const scl = 20;
const w = 10;
const s = 4;
const h = 20;

const fr = 30;
let paused = false;
let rate = 30;

const arr = 2;
const das = 5;
let dasCnt = 0;
let drpCnt = 0;
let keys = {
	d: false,
	l: false,
	r: false
};

let board = [...Array(w)].map(e => new Array(h));
let queuedPieces;
let currentPiece;
let holdingPiece = null;
let alreadyHeld;
let nextPiece;
let lines = 0;

// IOTJLSZ
let colors = [
	{r:   0, g: 255, b: 255},
	{r: 255, g: 255, b:   0},
	{r: 255, g:   0, b: 255},
	{r:   0, g:   0, b: 255},
	{r: 255, g: 127, b:   0},
	{r:   0, g: 255, b:   0},
	{r: 255, g:   0, b:   0}
];

let blocks = [
	[
		[
			{x: -2, y:  0},
			{x: -1, y:  0},
			{x:  0, y:  0},
			{x:  1, y:  0}
		],
		[
			{x:  0, y: -2},
			{x:  0, y: -1},
			{x:  0, y:  0},
			{x:  0, y:  1}
		]
	],

	[
		[
			{x:  0, y:  0},
			{x:  1, y:  0},
			{x:  0, y:  1},
			{x:  1, y:  1}
		],
		// [
			// {x:  0, y:  0},
			// {x:  1, y:  0},
			// {x:  0, y:  1},
			// {x:  1, y:  1}
		// ],
		// [
			// {x:  0, y:  0},
			// {x:  1, y:  0},
			// {x:  0, y:  1},
			// {x:  1, y:  1}
		// ],
		// [
			// {x:  0, y:  0},
			// {x:  1, y:  0},
			// {x:  0, y:  1},
			// {x:  1, y:  1}
		// ]
	],

	[
		[
			{x:  0, y:  0},
			{x:  1, y:  0},
			{x: -1, y:  0},
			{x:  0, y: -1}
		],
		[
			{x:  0, y:  0},
			{x:  1, y:  0},
			{x:  0, y:  1},
			{x:  0, y: -1}
		],
		[
			{x:  0, y:  0},
			{x:  1, y:  0},
			{x: -1, y:  0},
			{x:  0, y:  1}
		],
		[
			{x:  0, y:  0},
			{x:  0, y:  1},
			{x: -1, y:  0},
			{x:  0, y: -1}
		]
	],

	[
		[
			{x:  0, y:  0},
			{x:  1, y:  0},
			{x: -1, y:  0},
			{x: -1, y: -1}
		],
		[
			{x:  0, y:  0},
			{x:  0, y:  1},
			{x:  0, y: -1},
			{x:  1, y: -1}
		],
		[
			{x:  0, y:  0},
			{x:  1, y:  0},
			{x: -1, y:  0},
			{x:  1, y:  1}
		],
		[
			{x:  0, y:  0},
			{x:  0, y:  1},
			{x:  0, y: -1},
			{x: -1, y:  1}
		]
	],

	[
		[
			{x:  0, y:  0},
			{x:  1, y:  0},
			{x: -1, y:  0},
			{x:  1, y: -1}
		],
		[
			{x:  0, y:  0},
			{x:  0, y:  1},
			{x:  0, y: -1},
			{x:  1, y:  1}
		],
		[
			{x:  0, y:  0},
			{x:  1, y:  0},
			{x: -1, y:  0},
			{x: -1, y:  1}
		],
		[
			{x:  0, y:  0},
			{x:  0, y:  1},
			{x:  0, y: -1},
			{x: -1, y: -1}
		]
	],

	[
		[
			{x:  0, y:  0},
			{x: -1, y:  0},
			{x:  0, y: -1},
			{x:  1, y: -1}
		],
		[
			{x:  0, y:  0},
			{x:  1, y:  0},
			{x:  0, y: -1},
			{x:  1, y:  1}
		],
		// [
			// {x:  0, y:  0},
			// {x: -1, y:  1},
			// {x:  0, y:  1},
			// {x:  1, y:  0}
		// ],
		// [
			// {x:  0, y:  0},
			// {x: -1, y:  0},
			// {x: -1, y: -1},
			// {x:  0, y:  1}
		// ]
	],

	[
		[
			{x:  0, y:  0},
			{x:  0, y: -1},
			{x: -1, y: -1},
			{x:  1, y:  0}
		],
		[
			{x:  0, y:  0},
			{x:  1, y:  0},
			{x:  1, y: -1},
			{x:  0, y:  1}
		],
		// [
			// {x:  0, y:  1},
			// {x:  0, y:  0},
			// {x: -1, y:  0},
			// {x:  1, y:  1}
		// ],
		// [
			// {x: -1, y:  0},
			// {x:  0, y:  0},
			// {x:  0, y: -1},
			// {x: -1, y:  1}
		// ]
	]
];
